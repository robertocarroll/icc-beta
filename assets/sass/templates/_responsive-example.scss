/*------------------------------------*\
    #BLOCKS
\*------------------------------------*/

/**
 * Semi-complex, responsive content blocks. From vertically-stacked on small
 * screens, to equal-width, equal-height, horizontally-stacked on large screens.
 */

// Settings
$blocks-gutter: 20px;


/**
 * 1. Use `display: table;` on larger viewports.
 * 2. Make any number of items be equal width on larger viewports.
 */
.blocks {
    margin:  0;
    padding: 0;
    list-style: none;

    @media screen and (min-width: 720px) {
        display: table; /* [1] */
        table-layout: fixed; /* [2] */
        width: 100%;
    }

}

    /**
     * Here we juggle around lots of paddings and borders. It looks pretty
     * hairy, but the long-and-short of it is that we move the paddings and
     * delimiters from being applied vertically (top and/or bottom) when the
     * items are stacked, to being applied horizontally (left and/or right) when
     * the items are side-by-side.
     *
     * 1. 1px border delimiter between items…
     * 2. …and pad content away from the borders…
     * 3. …except on the first and last items…
     * 4. …and move it all around responsively.
     */
    .blocks__item {
        border: 0 solid rgba(0, 0, 0, 0.25); /* [1] */
        border-top-width: 1px; /* [1] */
        padding-top:    $blocks-gutter; /* [2] */
        padding-bottom: $blocks-gutter; /* [2] */

        &:first-child {
            border-top-width: 0; /* [3] */
            padding-top: 0; /* [3] */
        }

        &:last-child {
            padding-bottom: 0; /* [3] */
        }

        @media screen and (min-width: 720px) {
            display: table-cell;
            border-left-width: 1px; /* [1] */
            padding-left:   $blocks-gutter; /* [2] */
            padding-right:  $blocks-gutter; /* [2] */
            padding-top:    0; /* [4] */
            padding-bottom: 0; /* [4] */
            border-top-width: 0; /* [4] */

            &:first-child {
                border-left-width: 0; /* [3] */
                padding-left: 0; /* [3] */
            }

            &:last-child {
                padding-right: 0; /* [3] */
            }

        }

        /**
         * Blocks that sit on a dark background.
         */
        .blocks--dark > & {
            border-color: rgba(255, 255, 255, 0.25);
        }

    }